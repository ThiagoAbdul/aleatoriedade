<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Verificador de idade</title>
</head>
<body>
    <header>
        <h1>Verificador de idade</h1>
    </header>
    <main>
        <section id="insercao">
            <p>Ano de nascimento: <input type="number" name="ano-nascimento" id="ano-nascimento"></p>
            <p>Sexo: <input type="radio" name="sexo" id="m" value="um homem"> Masculino
                <input type="radio" name="sexo" id="f" value="uma mulher"> Feminino
            </p>
            <p><input id="bt1" type="button" value="Verificar" onclick="identificar()"></p>
        </section> 
        <section id="resultado">
            <h2>Preencha os dados acima para ver o resultado!</h2>
            <picture>
                <img src="imagens/homem.png" alt="">
            </picture>
        </section>
    </main>
        
    <footer>
        <p>&copy; CursoemVideo</p>
    </footer>
</body>
<script>
    
    


    function identificar(){
        var sexo = getSex()
        var idade = getAge()

        if (! validateAge(idade)){
            window.alert("Favor, insira uma data de nascimento vÃ¡lida")
        }    
        
        else if (sexo == "indefinido"){
            window.alert("Por favor, selecione seu sexo.")
        }
        else {
            var resultado = getElement("section#resultado > h2")
            resultado.innerText = `Detectamos ${sexo} de ${idade} anos`
        }     
    }

    function getSex(){
        var radioBoxSexo = document.getElementsByName("sexo")
        var sexo = "indefinido"
        radioBoxSexo.forEach(element => {
            if (element.checked){
                sexo = element.value
            }
        }
        );
        return sexo
    }
    
    
    function getAge(){
        var inputNum = getElement("input#ano-nascimento")
        var anoNascimento = inputNum.value
        var anoAtual = new Date().getFullYear()

        return anoAtual - anoNascimento
    }

    function validateAge(age){
        if (age >= 0 && age < 120){
            return true
        }
        return false
    }


    function getElement(element){
        return document.querySelector(element)
    }

</script>
</html>